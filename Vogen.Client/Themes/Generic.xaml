<ResourceDictionary
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:local="clr-namespace:Vogen.Client.Controls"
  xmlns:vc="clr-namespace:Vogen.Client.Controls;assembly=Vogen.Client.ViewModel">

  <Style TargetType="{x:Type local:ChartVScrollBar}">
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type local:ChartVScrollBar}">
          <Grid>
            <Grid.RowDefinitions>
              <RowDefinition/>
              <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <ScrollBar x:Name="vScroll" Orientation="Vertical"
                       Maximum="{Binding Path=(vc:ChartProperties.MinKey), RelativeSource={RelativeSource TemplatedParent}, Converter={x:Static vc:ChartConverters.vScrollValueConverter}}"
                       Minimum="{Binding Path=(vc:ChartProperties.MaxKey), RelativeSource={RelativeSource TemplatedParent}, Converter={x:Static vc:ChartConverters.vScrollValueConverter}}"
                       Value="{Binding Path=ScrollValue, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}, Converter={x:Static vc:ChartConverters.vScrollValueConverter}}">
              <ScrollBar.ViewportSize>
                <MultiBinding Converter="{x:Static vc:ChartConverters.vScrollSpanConverter}">
                  <Binding Path="(vc:ChartProperties.KeyHeight)" RelativeSource="{RelativeSource TemplatedParent}"/>
                  <Binding Path="ViewportSize" RelativeSource="{RelativeSource TemplatedParent}"/>
                </MultiBinding>
              </ScrollBar.ViewportSize>
              <ScrollBar.LargeChange>
                <MultiBinding Converter="{x:Static vc:ChartConverters.vScrollSpanConverter}" ConverterParameter="0.8">
                  <Binding Path="(vc:ChartProperties.KeyHeight)" RelativeSource="{RelativeSource TemplatedParent}"/>
                  <Binding Path="ViewportSize" RelativeSource="{RelativeSource TemplatedParent}"/>
                </MultiBinding>
              </ScrollBar.LargeChange>
              <ScrollBar.SmallChange>
                <MultiBinding Converter="{x:Static vc:ChartConverters.vScrollSpanConverter}" ConverterParameter="0.1">
                  <Binding Path="(vc:ChartProperties.KeyHeight)" RelativeSource="{RelativeSource TemplatedParent}"/>
                  <Binding Path="ViewportSize" RelativeSource="{RelativeSource TemplatedParent}"/>
                </MultiBinding>
              </ScrollBar.SmallChange>
            </ScrollBar>
          </Grid>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>

  <Style TargetType="{x:Type local:ChartHScrollBar}">
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="{x:Type local:ChartHScrollBar}">
          <Grid>
            <Grid.ColumnDefinitions>
              <ColumnDefinition/>
              <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <ScrollBar x:Name="hScroll" Orientation="Horizontal"
                       Maximum="{Binding Path=(vc:ChartProperties.HScrollMax), RelativeSource={RelativeSource TemplatedParent}}"
                       Value="{Binding Path=ScrollValue, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}">
              <ScrollBar.ViewportSize>
                <MultiBinding Converter="{x:Static vc:ChartConverters.hScrollSpanConverter}">
                  <Binding Path="(vc:ChartProperties.QuarterWidth)" RelativeSource="{RelativeSource TemplatedParent}"/>
                  <Binding Path="ViewportSize" RelativeSource="{RelativeSource TemplatedParent}"/>
                </MultiBinding>
              </ScrollBar.ViewportSize>
              <ScrollBar.LargeChange>
                <MultiBinding Converter="{x:Static vc:ChartConverters.hScrollSpanConverter}" ConverterParameter="0.8">
                  <Binding Path="(vc:ChartProperties.QuarterWidth)" RelativeSource="{RelativeSource TemplatedParent}"/>
                  <Binding Path="ViewportSize" RelativeSource="{RelativeSource TemplatedParent}"/>
                </MultiBinding>
              </ScrollBar.LargeChange>
              <ScrollBar.SmallChange>
                <MultiBinding Converter="{x:Static vc:ChartConverters.hScrollSpanConverter}" ConverterParameter="0.1">
                  <Binding Path="(vc:ChartProperties.QuarterWidth)" RelativeSource="{RelativeSource TemplatedParent}"/>
                  <Binding Path="ViewportSize" RelativeSource="{RelativeSource TemplatedParent}"/>
                </MultiBinding>
              </ScrollBar.SmallChange>
            </ScrollBar>
          </Grid>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
</ResourceDictionary>
